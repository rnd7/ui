{"version":3,"sources":["../lib/keyboard.js"],"names":["document","window","parse","str","push","lexeme","length","expect","GRAMMAR","token","ts","name","index","value","substr","next","eIndex","tIndex","lIndex","expectLen","TOKEN_LOOKUP","LEXEME","pattern","patternLen","subStr","caseSensitive","toUpperCase","RegExp","readAhead","strLen","test","eStr","Error","join","indexOf","TOKEN","TERMINAL","START","makeHash","mod","key","hash","SHIFT","CTRL","ALT","META","bind","callback","pointer","map","i","KEY","SPECIAL","MODIFIER","SEQUENCE","ALIAS","unbind","getCharCode","ev","which","keyCode","reset","modifier","consume","n","target","nodeName","toLowerCase","t","type","ignore","charCode","shiftRestore","MODIFIER_LOOKUP","hasOwnProperty","preventDefault","shiftKey","altKey","ctrlKey","metaKey","DOWN_LOOKUP","SPECIAL_LOOKUP","String","fromCharCode","timeoutId","clearTimeout","setTimeout","sequenceTimeout","defaultPrevented","init","addEventListener","CHAIN","CAPTURE","DOWN","PRESS","capture","LEFT","RIGHT","UP","BACKSPACE","TAB","ENTER","CAPSLOCK","ESCAPE","PAGEUP","PAGEDOWN","END","HOME","INSERT","DELETE","PLUS","COMMA","SPACE","k","keyboard","module","exports","define","amd"],"mappings":"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","file":"keyboard.min.js"}